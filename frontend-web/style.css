        /* --- CSS GIAO DI·ªÜN --- */
        :root {
            --primary-color: #4285F4; /* M√†u xanh Google */
            --bg-color: #f4f6f9;
            --chat-bg: #ffffff;
        }
        
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 0; background-color: var(--bg-color); display: flex; flex-direction: column; min-height: 100vh; }

        /* HEADER */
        header { background-color: white; padding: 15px 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); display: flex; justify-content: space-between; align-items: center; }
        .logo { font-weight: bold; font-size: 1.2rem; color: #333; }
        .nav-btn { text-decoration: none; color: #555; font-weight: 500; padding: 8px 15px; border-radius: 5px; transition: 0.3s; }
        .nav-btn:hover { background-color: #eee; }

        /* MAIN CONTAINER */
        .container { flex: 1; max-width: 800px; margin: 20px auto; width: 95%; display: flex; flex-direction: column; gap: 15px; }

        /* LICENSE BOX */
        .license-box { background: #fff; padding: 15px; border-radius: 10px; border: 1px solid #ddd; display: flex; gap: 10px; align-items: center; }
        .license-input { flex: 1; padding: 10px; border: 1px solid #ccc; border-radius: 5px; outline: none; }
        .license-status { font-size: 0.9rem; color: #666; }

        /* CHAT BOX */
        .chat-window { background: var(--chat-bg); border-radius: 10px; flex: 1; min-height: 400px; padding: 20px; overflow-y: auto; border: 1px solid #ddd; display: flex; flex-direction: column; gap: 10px; }
        .message { padding: 10px 15px; border-radius: 10px; max-width: 70%; line-height: 1.5; }
        .user-msg { background-color: var(--primary-color); color: white; align-self: flex-end; }
        .ai-msg { background-color: #f1f1f1; color: #333; align-self: flex-start; }
        .error-msg { background-color: #ffebee; color: #c62828; align-self: center; font-size: 0.9rem; }

        /* INPUT AREA */
        .input-area { display: flex; gap: 10px; background: white; padding: 15px; border-radius: 10px; border: 1px solid #ddd; }
        textarea { flex: 1; border: 1px solid #eee; resize: none; padding: 10px; border-radius: 5px; outline: none; font-family: inherit; }
        button#send-btn { background-color: var(--primary-color); color: white; border: none; padding: 0 25px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        button#send-btn:disabled { background-color: #ccc; }

        /* FOOTER */
        footer { background-color: #333; color: white; text-align: center; padding: 20px; margin-top: auto; }
        .social-links { margin-top: 10px; }
        .social-links a { color: #fff; text-decoration: none; margin: 0 10px; font-size: 0.9rem; border-bottom: 1px dotted #777; }
 /* B·ªè th·∫ª <style> ·ªü ƒë·∫ßu v√† cu·ªëi ƒëi nh√© */
:root { --primary-color: #4285F4; --bg-color: #f4f6f9; --chat-bg: #ffffff; }
body { font-family: 'Segoe UI', sans-serif; margin: 0; background-color: var(--bg-color); display: flex; flex-direction: column; min-height: 100vh; }
/* ... (D√°n ti·∫øp ph·∫ßn c√≤n l·∫°i) ... */
</head>
<body>

    <header>
        <div class="logo">My AI App</div>
        <nav>
            <a href="#" class="nav-btn" onclick="window.location.reload()">üè† Home</a>
        </nav>
    </header>

    <div class="container">
        
        <div class="license-box">
            <input type="text" id="licenseKey" class="license-input" placeholder="Nh·∫≠p M√£ K√≠ch Ho·∫°t (V√≠ d·ª•: VIP-2025)...">
            <span class="license-status">üîí Y√™u c·∫ßu kh√≥a b·∫£o m·∫≠t</span>
        </div>

        <div class="chat-window" id="chatContainer">
            <div class="message ai-msg">Xin ch√†o! Vui l√≤ng nh·∫≠p m√£ k√≠ch ho·∫°t ƒë·ªÉ b·∫Øt ƒë·∫ßu s·ª≠ d·ª•ng.</div>
        </div>

        <div class="input-area">
            <textarea id="userInput" rows="2" placeholder="Nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n..."></textarea>
            <button id="send-btn" onclick="sendMessage()">G·ª¨I</button>
        </div>
    </div>

    <footer>
        <div>¬© 2025 C√¥ng Ty AI C·ªßa T√¥i. All rights reserved.</div>
        <div class="social-links">
            <a href="https://facebook.com/trangcuaban" target="_blank">Facebook</a> |
            <a href="https://zalo.me/sodienthoaicuaban" target="_blank">Zalo Support</a>
        </div>
    </footer>

    <script>
        // --- C·∫§U H√åNH ---
        // Thay link n√†y b·∫±ng URL b·∫°n nh·∫≠n ƒë∆∞·ª£c t·ª´ Google Cloud Run
        const BACKEND_URL = "https://THAY-URL-GOOGLE-CLOUD-CUA-BAN-VAO-DAY.run.app"; 

        async function sendMessage() {
            const licenseKey = document.getElementById('licenseKey').value.trim();
            const inputField = document.getElementById('userInput');
            const message = inputField.value.trim();
            const chatBox = document.getElementById('chatContainer');
            const btn = document.getElementById('send-btn');

            if (!message) return;
            if (!licenseKey) {
                alert("Vui l√≤ng nh·∫≠p M√£ K√≠ch Ho·∫°t tr∆∞·ªõc!");
                return;
            }

            // 1. Hi·ªÉn th·ªã tin nh·∫Øn ng∆∞·ªùi d√πng
            chatBox.innerHTML += `<div class="message user-msg">${message}</div>`;
            inputField.value = '';
            btn.disabled = true;
            btn.innerText = "ƒêang x·ª≠ l√Ω...";
            chatBox.scrollTop = chatBox.scrollHeight;

            try {
                // 2. G·ªçi API sang Google Cloud
                const response = await fetch(`${BACKEND_URL}/chat`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        message: message, 
                        license_key: licenseKey 
                    })
                });

                const data = await response.json();

                // 3. X·ª≠ l√Ω k·∫øt qu·∫£ tr·∫£ v·ªÅ
                if (response.ok) {
                    chatBox.innerHTML += `<div class="message ai-msg">${data.reply}</div>`;
                } else {
                    // N·∫øu sai m√£ k√≠ch ho·∫°t ho·∫∑c l·ªói server
                    chatBox.innerHTML += `<div class="message error-msg">‚ö†Ô∏è L·ªói: ${data.detail || "Kh√¥ng th·ªÉ k·∫øt n·ªëi server"}</div>`;
                }

            } catch (error) {
                console.error(error);
                chatBox.innerHTML += `<div class="message error-msg">‚ö†Ô∏è L·ªói k·∫øt n·ªëi m·∫°ng!</div>`;
            } finally {
                btn.disabled = false;
                btn.innerText = "G·ª¨I";
                chatBox.scrollTop = chatBox.scrollHeight;
            }
        }
    </script>
</body>
</html>